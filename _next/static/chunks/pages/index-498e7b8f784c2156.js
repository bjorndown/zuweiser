(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(10)}])},10:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var i=n(5893),r=n(536),a=n.n(r),c=n(7294),s=function(e){var t=e.onChange,n=(0,c.useState)("\t"),r=n[0];n[1];return(0,i.jsxs)("div",{className:"jsx-9dbe652c94c65d4c container",children:[(0,i.jsx)("textarea",{rows:20,onChange:function(e){return t(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.split("\n").slice(t?1:0).map((function(e){return e.trim().split(r).map((function(e){return e.trim()}))})).filter((function(e){return 1!==e.length}))}(e.target.value))},className:"jsx-9dbe652c94c65d4c input"}),(0,i.jsx)(a(),{id:"9dbe652c94c65d4c",children:".container.jsx-9dbe652c94c65d4c{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column wrap;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-flow:column wrap;flex-flow:column wrap;margin:1rem 0}.input.jsx-9dbe652c94c65d4c{max-width:700px}"})]})},l=function(e){var t=e.text;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{title:t,className:"jsx-cd050b290067be02 explanation",children:"?"}),(0,i.jsx)(a(),{id:"cd050b290067be02",children:".explanation.jsx-cd050b290067be02{background:var(--green);margin-left:.3rem;padding:0 5px;font-weight:bold;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}"})]})},o=n(4184),d=n.n(o),u=function(e){var t=e.error,n=e.columns,r=e.table;return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)("span",{className:"jsx-40d5877acf302de0 error",children:t}),!t&&n.length>0&&(0,i.jsx)("div",{className:"jsx-40d5877acf302de0 preview",children:(0,i.jsxs)("table",{className:"jsx-40d5877acf302de0",children:[(0,i.jsx)("thead",{className:"jsx-40d5877acf302de0",children:(0,i.jsx)("tr",{className:"jsx-40d5877acf302de0",children:n.map((function(e){return(0,i.jsx)("th",{title:e.matchedAs?'Erkannt als "'.concat(e.matchedAsLabel,'"'):"",className:"jsx-40d5877acf302de0 "+(d()({"matched-column":e.matchedAs})||""),children:e.label},e.label)}))})}),(0,i.jsx)("tbody",{className:"jsx-40d5877acf302de0",children:r.slice(1).map((function(e,t){return(0,i.jsx)("tr",{className:"jsx-40d5877acf302de0",children:e.map((function(e,n){return(0,i.jsx)("td",{className:"jsx-40d5877acf302de0",children:e},"cell-".concat(t,"-").concat(n))}))},"row-".concat(t))}))})]})}),(0,i.jsx)(a(),{id:"40d5877acf302de0",children:".preview.jsx-40d5877acf302de0{height:10rem;overflow:auto}.matched-column.jsx-40d5877acf302de0{background:var(--green)}th.jsx-40d5877acf302de0{position:-webkit-sticky;position:sticky;top:0;left:0}.error.jsx-40d5877acf302de0{background:#cd5c5c}"})]})},f=function(e){var t,n,r=e.onChange,o=(0,c.useState)(!0),d=o[0],f=o[1],m=(0,c.useState)(),h=m[0],x=m[1],b=function(e){return"id"===e.toLowerCase()},p=function(e){return e.toLowerCase().startsWith("name")||e.toLowerCase().startsWith("title")},j=function(e){return e.toLowerCase().startsWith("limit")||e.toLowerCase().includes("max")},v=function(e){return e.toLowerCase().startsWith("minimum")},w=(0,c.useMemo)((function(){return null!==(t=null===h||void 0===h?void 0:h[0])&&void 0!==t?t:[]}),[h]),y=(0,c.useMemo)((function(){return null!==(n=null===h||void 0===h?void 0:h.slice(1))&&void 0!==n?n:[]}),[h]),g=(0,c.useMemo)((function(){return w.indexOf(w.find((function(e){return b(e)})))}),[w]),N=(0,c.useMemo)((function(){return w.indexOf(w.find((function(e){return p(e)})))}),[w]),k=(0,c.useMemo)((function(){return w.indexOf(w.find((function(e){return j(e)})))}),[w]),S=(0,c.useMemo)((function(){return w.indexOf(w.find((function(e){return v(e)})))}),[w]),M=(0,c.useMemo)((function(){return w.length?w.map((function(e,t){return b(e)?{label:e,matchedAsLabel:"ID",matchedAs:"id"}:p(e)?{label:e,matchedAs:"title",matchedAsLabel:"Titel"}:j(e)?{label:e,matchedAs:"limit",matchedAsLabel:"Limit"}:v(e)?{label:e,matchedAs:"minimum",matchedAsLabel:"Minimum"}:{label:e,matchedAs:void 0,matchedAsLabel:void 0}})):[]}),[w]),z=(0,c.useMemo)((function(){if(h)return!M||M.length<3?"Keine oder zu wenige Spalten erkannt. Minimum an Spalten: ID, Titel, Limit, Minimum":!M.find((function(e){return"id"===e.matchedAs}))?'Spalte "ID" nicht erkannt':!M.find((function(e){return"title"===e.matchedAs}))?'Spalte "Titel" nicht erkannt':!M.find((function(e){return"limit"===e.matchedAs}))?'Spalte "Limit" nicht erkannt':!!M.find((function(e){return"minimum"===e.matchedAs}))?void 0:'Spalte "Minimum" nicht erkannt'}),[h,M]),A=(0,c.useMemo)((function(){return z||!y.length?[]:y.map((function(e){return{id:e[g],title:e[N],limit:parseInt(e[k]),minimum:parseInt(e[S])}}))}),[z,y,w]);return(0,c.useEffect)((function(){z||r({activities:A,shuffleBeforeMatch:d})}),[z,A,d]),(0,i.jsxs)("div",{className:"jsx-62bbc98b497c4570 container",children:[(0,i.jsx)("h2",{className:"jsx-62bbc98b497c4570",children:"Aktivit\xe4ten"}),(0,i.jsx)("input",{type:"checkbox",id:"shuffleActivitiesBeforeMatch",checked:d,onChange:function(){return f(!d)},className:"jsx-62bbc98b497c4570"}),(0,i.jsxs)("label",{htmlFor:"shuffleActivitiesBeforeMatch",className:"jsx-62bbc98b497c4570",children:["Vor dem Zuweisen mischen",(0,i.jsx)(l,{text:"Ohne Mischen ist die Reihenfolge der Eintr\xe4ge in der Tabelle massgebend, d.h. fr\xfche Eintr\xe4ge werden bevorzugt"})]}),(0,i.jsx)(s,{onChange:function(e){return x(e)}}),(0,i.jsx)(u,{error:z,columns:M,table:h}),(0,i.jsx)(a(),{id:"62bbc98b497c4570",children:".container.jsx-62bbc98b497c4570{min-width:400px;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}"})]})},m=function(e){var t,n,r=e.onChange,o=(0,c.useState)(!0),d=o[0],f=o[1],m=(0,c.useState)(),h=m[0],x=m[1],b=function(e){return"id"===e.toLowerCase()},p=function(e){return e.toLowerCase().startsWith("prio")},j=(0,c.useMemo)((function(){return null!==(t=null===h||void 0===h?void 0:h[0])&&void 0!==t?t:[]}),[h]),v=(0,c.useMemo)((function(){return null!==(n=null===h||void 0===h?void 0:h.slice(1))&&void 0!==n?n:[]}),[h]),w=(0,c.useMemo)((function(){return j.indexOf(j.find((function(e){return b(e)})))}),[j]),y=(0,c.useMemo)((function(){return j.filter(p).map((function(e){return j.indexOf(e)}))}),[j]),g=(0,c.useMemo)((function(){if(!j.length)return[];var e=j.filter((function(e){return e.toLowerCase().startsWith("prio")}));return j.map((function(t){return b(t)?{label:t,matchedAsLabel:"ID",matchedAs:"id"}:p(t)?{label:t,matchedAs:"priority",matchedAsLabel:"Priorit\xe4t ".concat(e.indexOf(t)+1)}:{label:t,matchedAs:void 0,matchedAsLabel:void 0}}))}),[j]),N=(0,c.useMemo)((function(){if(h){if(!g||g.length<3)return"Keine oder zu wenige Spalten erkannt. Minimum an Spalten: ID, Priorit\xe4t 1, Priorit\xe4t 2";if(!!!g.find((function(e){return"id"===e.matchedAs})))return'Spalte "ID" nicht erkannt';var e=g.filter((function(e){return"priority"===e.matchedAs})).length;return 0===e?"Keine Priorit\xe4ten-Spalten erkannt":1===e?"Nur eine Priorit\xe4ten-Spalten erkannt":void 0}}),[h,g]),k=(0,c.useMemo)((function(){return N||!h?[]:v.map((function(e){return{id:e[w],priorities:e.filter((function(e,t){return y.includes(t)}))}}))}),[N,h,v,w,y]),S=(0,c.useMemo)((function(){return N||!h?[]:v.map((function(e){return{id:e[w],data:e.filter((function(e,t){return!y.concat(w).includes(t)}))}}))}),[N,h,v,w,y]);return(0,c.useEffect)((function(){N||r({participants:k,participantsData:S,shuffleBeforeMatch:d})}),[N,k,S,d]),(0,i.jsxs)("div",{className:"jsx-e5979519b32ed23 container",children:[(0,i.jsx)("h2",{className:"jsx-e5979519b32ed23",children:"Teilnehmer"}),(0,i.jsx)("input",{type:"checkbox",id:"shuffleParticipantsBeforeMatch",checked:d,onChange:function(){return f(!d)},className:"jsx-e5979519b32ed23"}),(0,i.jsxs)("label",{htmlFor:"shuffleParticipantsBeforeMatch",className:"jsx-e5979519b32ed23",children:["Vor dem Zuweisen mischen",(0,i.jsx)(l,{text:"Ohne Mischen ist die Reihenfolge der Eintr\xe4ge in der Tabelle massgebend, d.h. fr\xfche Eintr\xe4ge werden bevorzugt"})]}),(0,i.jsx)(s,{onChange:function(e){return x(e)}}),(0,i.jsx)(u,{error:N,columns:g,table:h}),(0,i.jsx)(a(),{id:"e5979519b32ed23",children:".container.jsx-e5979519b32ed23{min-width:500px;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}"})]})},h=n(6026),x=n.n(h),b=function(e){var t=e.fulfilledPriorities,n=e.totalParticipants;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("ol",{children:t.map((function(e,t){return(0,i.jsxs)("li",{children:["Priorit\xe4t"," ",(0,i.jsx)("progress",{value:e,max:n})," ",e]},"priority-".concat(t))}))})})},p=function(e){var t=e.result,n=function(e){return"".concat(e+1,". Priorit\xe4t")};return(0,i.jsxs)("div",{className:"jsx-1eb6440d3202b42d",children:[(0,i.jsxs)("article",{className:"jsx-1eb6440d3202b42d statistics",children:[(0,i.jsxs)("section",{className:"jsx-1eb6440d3202b42d",children:[(0,i.jsx)("h3",{className:"jsx-1eb6440d3202b42d",children:"Kurz\xfcbersicht"}),(0,i.jsxs)("table",{className:"jsx-1eb6440d3202b42d",children:[(0,i.jsx)("thead",{className:"jsx-1eb6440d3202b42d",children:(0,i.jsxs)("tr",{className:"jsx-1eb6440d3202b42d",children:[(0,i.jsx)("th",{className:"jsx-1eb6440d3202b42d",children:"Kurs"}),(0,i.jsx)("th",{className:"jsx-1eb6440d3202b42d",children:"Zugewiesene Teilnehmer"}),(0,i.jsx)("th",{className:"jsx-1eb6440d3202b42d",children:"Minimum"}),(0,i.jsx)("th",{className:"jsx-1eb6440d3202b42d",children:"Limit"})]})}),(0,i.jsxs)("tbody",{className:"jsx-1eb6440d3202b42d",children:[t.activities.map((function(e){return(0,i.jsxs)("tr",{className:"jsx-1eb6440d3202b42d",children:[(0,i.jsx)("td",{className:"jsx-1eb6440d3202b42d",children:e.title}),(0,i.jsx)("td",{className:"jsx-1eb6440d3202b42d number",children:e.participants.length}),(0,i.jsx)("td",{className:"jsx-1eb6440d3202b42d number",children:e.minimum}),(0,i.jsx)("td",{className:"jsx-1eb6440d3202b42d number",children:e.limit})]},"activity-".concat(e.id))})),(0,i.jsxs)("tr",{className:"jsx-1eb6440d3202b42d totals",children:[(0,i.jsx)("td",{className:"jsx-1eb6440d3202b42d",children:"Total"}),(0,i.jsx)("td",{className:"jsx-1eb6440d3202b42d number",children:t.participants.filter((function(e){return e.assigned})).length}),(0,i.jsx)("td",{className:"jsx-1eb6440d3202b42d number",children:t.activities.map((function(e){return e.minimum})).reduce((function(e,t){return e+t}))}),(0,i.jsx)("td",{className:"jsx-1eb6440d3202b42d number",children:t.activities.map((function(e){return e.limit})).reduce((function(e,t){return e+t}))})]})]})]})]}),(0,i.jsxs)("section",{className:"jsx-1eb6440d3202b42d",children:[(0,i.jsx)("h3",{className:"jsx-1eb6440d3202b42d",children:"Verteilung der erf\xfcllten Priorit\xe4ten"}),(0,i.jsx)(b,{fulfilledPriorities:function(e){var t={},i=!0,r=!1,a=void 0;try{for(var c,s=e.activities[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=c.value,o=!0,d=!1,u=void 0;try{for(var f,m=l.participants[Symbol.iterator]();!(o=(f=m.next()).done);o=!0){var h=f.value.priorities.indexOf(l.id);t[n(h)]?t[n(h)]++:t[n(h)]=1}}catch(x){d=!0,u=x}finally{try{o||null==m.return||m.return()}finally{if(d)throw u}}}}catch(x){r=!0,a=x}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return Object.keys(t).map((function(e){return t[e]}))}(t),totalParticipants:t.participants.length})]})]}),(0,i.jsx)(a(),{id:"1eb6440d3202b42d",children:".statistics.jsx-1eb6440d3202b42d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row wrap;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;gap:1rem}"})]})},j=function(e){var t,n=e.result,r=e.participantsData,c=function(e){return e.filter((function(e){return!e.assigned}))},s=function(e){return"".concat(e.title," (").concat(e.participants.length," / ").concat(e.limit,")")};return(0,i.jsxs)("div",{className:"jsx-c25ce83585dbea3d",children:[(0,i.jsx)("div",{className:"jsx-c25ce83585dbea3d",children:(0,i.jsx)("h2",{className:"jsx-c25ce83585dbea3d",children:"Resultat"})}),(0,i.jsx)(p,{result:n}),(0,i.jsxs)("div",{className:"jsx-c25ce83585dbea3d unassignable-participants",children:[(0,i.jsx)("h3",{className:"jsx-c25ce83585dbea3d",children:"Nicht-zuweisbare Teilnehmer"}),c(n.participants).length>0&&(0,i.jsxs)("table",{className:"jsx-c25ce83585dbea3d",children:[(0,i.jsx)("thead",{className:"jsx-c25ce83585dbea3d",children:(0,i.jsxs)("tr",{className:"jsx-c25ce83585dbea3d",children:[(0,i.jsx)("th",{className:"jsx-c25ce83585dbea3d",children:"ID"}),(0,i.jsx)("th",{className:"jsx-c25ce83585dbea3d"}),(0,i.jsx)("th",{className:"jsx-c25ce83585dbea3d"}),(0,i.jsx)("th",{className:"jsx-c25ce83585dbea3d"}),(t=n.participants,x()(1,t[0].priorities.length+1)).map((function(e){return(0,i.jsxs)("th",{className:"jsx-c25ce83585dbea3d",children:["Priorit\xe4t ",e]},e)}))]})}),(0,i.jsx)("tbody",{className:"jsx-c25ce83585dbea3d",children:c(n.participants).map((function(e,t){return(0,i.jsxs)("tr",{className:"jsx-c25ce83585dbea3d",children:[(0,i.jsx)("td",{className:"jsx-c25ce83585dbea3d",children:t+1}),r[e.id].map((function(e,t){return(0,i.jsx)("td",{className:"jsx-c25ce83585dbea3d",children:e},"property-".concat(t))})),e.priorities.map((function(e){return(0,i.jsx)("td",{className:"jsx-c25ce83585dbea3d",children:n.activities.find((function(t){return t.id===e})).title},e)}))]},"participant-".concat(e.id,"-").concat(t))}))})]})]}),(0,i.jsxs)("section",{className:"jsx-c25ce83585dbea3d",children:[(0,i.jsx)("h3",{className:"jsx-c25ce83585dbea3d",children:"Zuweisungen pro Kurs"}),(0,i.jsx)("div",{className:"jsx-c25ce83585dbea3d matching-results",children:n.activities.map((function(e){return(0,i.jsxs)("article",{className:"jsx-c25ce83585dbea3d matched-activity-container",children:[(0,i.jsx)("h4",{className:"jsx-c25ce83585dbea3d",children:s(e)}),(0,i.jsxs)("table",{className:"jsx-c25ce83585dbea3d matching-result",children:[(0,i.jsx)("thead",{className:"jsx-c25ce83585dbea3d",children:(0,i.jsxs)("tr",{className:"jsx-c25ce83585dbea3d",children:[(0,i.jsx)("th",{className:"jsx-c25ce83585dbea3d",children:"ID"}),(0,i.jsx)("th",{className:"jsx-c25ce83585dbea3d"}),(0,i.jsx)("th",{className:"jsx-c25ce83585dbea3d"}),(0,i.jsx)("th",{className:"jsx-c25ce83585dbea3d"}),(0,i.jsx)("th",{className:"jsx-c25ce83585dbea3d",children:"Priorit\xe4t"})]})}),(0,i.jsx)("tbody",{className:"jsx-c25ce83585dbea3d",children:e.participants.map((function(t,n){return(0,i.jsxs)("tr",{className:"jsx-c25ce83585dbea3d",children:[(0,i.jsx)("td",{className:"jsx-c25ce83585dbea3d",children:n+1}),r[t.id].map((function(e,t){return(0,i.jsx)("td",{className:"jsx-c25ce83585dbea3d",children:e},"property-".concat(t))})),(0,i.jsx)("td",{className:"jsx-c25ce83585dbea3d priority-column",children:t.priorities.indexOf(e.id)+1})]},"participant-".concat(t.id))}))})]})]},"activity-".concat(e.id))}))})]}),(0,i.jsx)(a(),{id:"c25ce83585dbea3d",children:"table.matching-result.jsx-c25ce83585dbea3d{min-width:350px;max-width:550px}.matching-results.jsx-c25ce83585dbea3d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row wrap;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;gap:1rem}.matching-results.jsx-c25ce83585dbea3d h3.jsx-c25ce83585dbea3d{display:block}.matched-activity-container.jsx-c25ce83585dbea3d{display:block}#table.unassignable-participants.jsx-c25ce83585dbea3d{max-width:800px}.priority-column.jsx-c25ce83585dbea3d{text-align:center}ul.jsx-c25ce83585dbea3d{margin:0;padding:0;list-style:none}"})]})},v=n(9983),w=n.n(v),y=n(4111),g=n(1438),N=n(8668),k=n(1799),S=n(9396),M=n(5892),z=n(6626),A=function(e){(0,N.Z)(n,e);var t=(0,z.Z)(n);function n(e,i,r,a){var c;return(0,g.Z)(this,n),(c=t.call(this,"".concat(r,"=").concat(a," not unique for ").concat(e," with id=").concat(i))).entityType=e,c.entityId=i,c.propertyName=r,c.propertyValue=a,Object.setPrototypeOf((0,y.Z)(c),n.prototype),c}return n}((0,M.Z)(Error)),P=function(e){(0,N.Z)(n,e);var t=(0,z.Z)(n);function n(e,i,r,a){var c;return(0,g.Z)(this,n),(c=t.call(this,"".concat(e," with id=").concat(i," does not exist. Referred to by ").concat(r," with id=").concat(a))).entityType=e,c.id=i,c.referrerType=r,c.referrerId=a,Object.setPrototypeOf((0,y.Z)(c),n.prototype),c}return n}((0,M.Z)(Error)),E=function(e,t){!function(e){var t=new Set;e.forEach((function(e){if(t.has(e.id))throw new A("Activity",e.id,"id",e.id);t.add(e.id)}))}(t),function(e){var t=new Set;e.forEach((function(e){if(t.has(e.id))throw new A("Participant",e.id,"id",e.id);t.add(e.id)}))}(e),function(e){e.forEach((function(e){if(e.priorities.length!==new Set(e.priorities).size)throw new A("Participant",e.id,"priorities",e.priorities.toString())}))}(e),function(e,t){var n=t.map((function(e){return e.id}));e.forEach((function(e){e.priorities.forEach((function(t){if(!n.find((function(e){return e===t})))throw new P("Activity",t,"Participant",e.id)}))}))}(e,t)};function C(e,t){E(e.participants,t.activities);var n=(e.shuffleBeforeMatch?w()(e.participants):e.participants).map((function(e){return function(e){return(0,S.Z)((0,k.Z)({},e),{_assigned:!1,set assigned(e){if(this._assigned&&e)throw Error("Participant ".concat(this.id," already assigned"));this._assigned=e},get assigned(){return this._assigned}})}(e)})),i=(t.shuffleBeforeMatch?w()(t.activities):t.activities).map((function(e){return function(e){return(0,S.Z)((0,k.Z)({},e),{assignParticipant:function(e){if(!(this.participants.length<this.limit))throw new Error('Activity title="'.concat(this.title," is full"));this.participants.push(e)},isNotFull:function(){return this.participants.length<this.limit},participants:[]})}(e)}));return L(n,i),{participants:n,activities:i}}var L=function(e,t){var n=O(t),i=e[0].priorities.length,r=!0,a=!1,c=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var o=s.value,d=Z(e,o,i);console.log(o.title);var u=T(o,d,i);console.log("Minimal priority to fill to minimum ".concat(u.priority+1,", index ").concat(u.index));var f=!0,m=!1,h=void 0;try{for(var b,p=x()(i)[Symbol.iterator]();!(f=(b=p.next()).done);f=!0){var j=b.value;console.log("Prio ".concat(j+1,": ").concat(d[j].length))}}catch(ee){m=!0,h=ee}finally{try{f||null==p.return||p.return()}finally{if(m)throw h}}D(o,d,u)}}catch(ee){a=!0,c=ee}finally{try{r||null==l.return||l.return()}finally{if(a)throw c}}console.log("Second round");var v=!0,w=!1,y=void 0;try{for(var g,N=I(n)[Symbol.iterator]();!(v=(g=N.next()).done);v=!0){var k=g.value,S=Z(e,k,i),M=k.minimum-k.participants.length,z=S.flat();for(console.log("Try to fill delta ".concat(M," for ").concat(k.title));z.length>0&&k.minimum-k.participants.length>0;){var A=z.shift();!A.assigned&&k.isNotFull()?(k.assignParticipant(A),A.assigned=!0):console.warn("".concat(A.id," already matched!!"))}}}catch(ee){w=!0,y=ee}finally{try{v||null==N.return||N.return()}finally{if(w)throw y}}console.log("final round");var P=!0,E=!1,C=void 0;try{for(var L,_=F(n,e,i)[Symbol.iterator]();!(P=(L=_.next()).done);P=!0){var B=L.value;console.log(B.title);var K=Z(e,B,i),W=!0,R=!1,V=void 0;try{for(var X,q=x()(i)[Symbol.iterator]();!(W=(X=q.next()).done);W=!0){var G=X.value,H=!0,J=!1,Q=void 0;try{for(var U,Y=x()(K[G].length)[Symbol.iterator]();!(H=(U=Y.next()).done);H=!0){U.value;var $=K[G].shift();!$.assigned&&B.isNotFull()?(B.assignParticipant($),$.assigned=!0):console.warn("".concat($.id," already matched!!"))}}catch(ee){J=!0,Q=ee}finally{try{H||null==Y.return||Y.return()}finally{if(J)throw Q}}}}catch(ee){R=!0,V=ee}finally{try{W||null==q.return||q.return()}finally{if(R)throw V}}}}catch(ee){E=!0,C=ee}finally{try{P||null==_.return||_.return()}finally{if(E)throw C}}},O=function(e){return e.filter((function(e){return e.limit>0}))},Z=function(e,t,n){var i=x()(n).map((function(){return[]})),r=!0,a=!1,c=void 0;try{for(var s,l=function(){var e=s.value;i.forEach((function(n,r){e.priorities[r]===t.id&&i[r].push(e)}))},o=e[Symbol.iterator]();!(r=(s=o.next()).done);r=!0)l()}catch(d){a=!0,c=d}finally{try{r||null==o.return||o.return()}finally{if(a)throw c}}return i},_=function(e){return e.filter((function(e){return!e.assigned}))},T=function(e,t,n){for(var i=0,r=[],a=t.map((function(e){return e.slice(0)}));r.length<e.minimum&&a.flat().length>0&&i<n;){if(0===a[i].length&&i<n&&(i+=1),r.push(a[i].shift()),0===a.flat().length&&r.length<e.minimum)return{priority:-1,index:-1};if(r.length===e.minimum)break}return{priority:i,index:t[i].length-a[i].length-1}},D=function(e,t,n){var i=!0,r=!1,a=void 0;try{for(var c,s=x()(n.priority)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=c.value,o=!0,d=!1,u=void 0;try{for(var f,m=x()(t[l].length)[Symbol.iterator]();!(o=(f=m.next()).done);o=!0){f.value;var h=t[l].shift();!h.assigned&&e.isNotFull()?(e.assignParticipant(h),h.assigned=!0):console.warn("".concat(h.id," already matched!!"))}}catch(g){d=!0,u=g}finally{try{o||null==m.return||m.return()}finally{if(d)throw u}}}}catch(g){r=!0,a=g}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}var b=!0,p=!1,j=void 0;try{for(var v,w=x()(n.index+1)[Symbol.iterator]();!(b=(v=w.next()).done);b=!0){v.value;var y=t[n.priority].shift();!y.assigned&&e.isNotFull()?(e.assignParticipant(y),y.assigned=!0):console.warn("".concat(y.id," already matched!!"))}}catch(g){p=!0,j=g}finally{try{b||null==w.return||w.return()}finally{if(p)throw j}}},I=function(e){return e.sort((function(e,t){var n=e.minimum-e.participants.length;return t.minimum-t.participants.length-n}))},F=function(e,t,n){return e.sort((function(e,i){var r=!0,a=!1,c=void 0;try{for(var s,l=x()(n)[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var o=s.value,d=Z(t,e,n),u=Z(t,i,n);if(_(u[o]).length>_(d[o]).length)return 1;if(_(d[o]).length>_(u[o]).length)return-1}}catch(f){a=!0,c=f}finally{try{r||null==l.return||l.return()}finally{if(a)throw c}}return 0}))},B=function(){var e,t=(0,c.useState)(),n=t[0],r=t[1],s=(0,c.useState)(),l=s[0],o=s[1],d=(0,c.useState)(),u=d[0],h=d[1],x=(0,c.useMemo)((function(){return n&&l}),[n,l]),b=(0,c.useMemo)((function(){return Object.fromEntries(null!==(e=null===l||void 0===l?void 0:l.participantsData.map((function(e){return[e.id,e.data]})))&&void 0!==e?e:[])}),[l]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{className:"jsx-71568fd074756783",children:"Zuweiser"}),(0,i.jsxs)("div",{id:"config",className:"jsx-71568fd074756783",children:[(0,i.jsx)(f,{onChange:r}),(0,i.jsx)(m,{onChange:o})]}),x&&(0,i.jsx)("button",{onClick:function(){h(C(l,n))},className:"jsx-71568fd074756783 matchButton",children:"Priorit\xe4ten aufl\xf6sen"}),u&&(0,i.jsx)(j,{result:u,participantsData:b}),(0,i.jsx)(a(),{id:"71568fd074756783",children:"@media screen and (min-width:500px){#config.jsx-71568fd074756783{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column wrap;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-flow:column wrap;flex-flow:column wrap}}#config.jsx-71568fd074756783{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row wrap;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-column-gap:1rem;-moz-column-gap:1rem;column-gap:1rem}.matchButton.jsx-71568fd074756783{margin-top:1rem;padding:.5rem;font-size:larger}"})]})}}},function(e){e.O(0,[167,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);